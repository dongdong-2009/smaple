<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>JS Verify 2</title>
<script type="text/javascript">
function SubmitInfo()
{
    var name = document.getElementById("txtName");
    var age = document.getElementById("txtAge");
    var intro = document.getElementById("txtIntro");
    if(!isEmpty(name))
    {
        alert("请输入用户名!");
        return false;
    }
    if(!isSafeString(name.value))
    {
        alert("用户名只能由中文,英文,数字及下划线组成!");
        return false;
    }
    if(!isEmpty(age))
    {
        alert("请输入年龄!");
        return false;
    }
    if(!isInt(age.value))
    {
        alert("年龄必须为正整数!");
        return false;
    }
    if(!isEmpty(intro))
    {
        alert("请输入自我介绍!");
        return false;
    }
    alert("提交成功!");
    return true;
}

function isEmpty(obj)
{
    if(obj == null || obj.value == "")
        return false;
    return true;
}

function isInt(val)
{
    return /^[1-9]\d$/.test(val);
}

function isSafeString(val)
{
    return /^[\u4E00-\u9FA5a-z0-9_]*$/gi.test(val);
}

</script>
</head>
<body>
    <div>
        <span>请输入用户名,年龄和自我介绍:</span>
        <br />
        <span>用户名:<input type="text" id="txtName" size="20" /></span>
        <br />
        <span>年龄:<input type="text" id="txtAge" size="5" />岁</span>
        <br />
        <span>自我介绍:</span>
        <br />
        <span><textarea id="txtIntro" rows="10" cols="50"></textarea></span>
        <br />
        <span><input type="button" onclick="return SubmitInfo();" value="提交信息" /></span>
    </div>
</body>
</html>